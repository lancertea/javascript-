<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>正则相关练习题</title>
</head>


<body>


    <script>
        {

            //实现一个字符串匹配算法，从字符串 S 中，查找是否存在字符串 T，若存在返回所在位置，
            //不存在返回-1！（如果不能基于indexOf/includes等内置的方法，你会如何处理呢？）
            String.prototype.myIndexOf = function (T) {
                //=>THIS:S
                let reg = new RegExp(T),
                    res = reg.exec(this);
                return res === null ? -1 : res.index;
            }

            let S = 'hello,my love',
                T = 'love';
            console.log(S.myIndexOf(T));

        }

        {
            //一个url后面好多key:value，如localhost?key=val&key2=val2&key3=val3，
            //封装一个函数 getParam(‘key’) 通过key获得相应等号后面的值
            //var url="locallhost?key1=val1&key2=val2&key3=val3";
            //console.log(url.getParam("key3")); //=>'val3'
            String.prototype.getParam = function (key) {
                let obj = {},
                    _this = this,
                    start = _this.indexOf('?');
                if (start === -1) {
                    return;
                }
                let str = _this.slice(start + 1);
                str.split('&').forEach(item => {
                    let [key, value] = item.split('=');
                    obj[key] = value;
                });
                return obj[key];
            }

            var url = "locallhost?key1=val1&key2=val2&key3=val3";
            console.log(url.getParam("key3"));
        }
    </script>
</body>

</html>
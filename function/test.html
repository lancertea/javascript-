<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>各种考题复习</title>

</head>

<body>
    <script>
        
        //this

        {
            var name = '222';
            var a = {
                name: '111',
                say: function () {
                    console.log(this.name);

                }
            }
            var fun = a.say;
            fun();
            a.say();

            var b = {
                name: '333',
                say: function (func) {
                    func();
                }
            }

            b.say(a.say);
            b.say = a.say;
            b.say();
        }

        {

            var name = '123';

            function print() {
                var name = '456';
                this.name = '789';
                console.log(name);

            }
            print();
            console.log(name);

        }

        {

            var name = 123;

            function print1() {
                this.name = 234;
                console.log(name);

            }
            print1();
            console.log(new print1());
        }

        {

            var a = 5;

            function test1() {
                a = 0;
                console.log(a);
                console.log(this.a);
                var a;
                console.log(a);

            }
            test1();
            console.log(new test1());
        }

        {
            var q = {
                name: 'qq',
                show: function () {
                    return this;
                }
            };

            var q1 = {
                name: 'qq1',
                show: function () {
                    return q.show()
                }
            };
            console.log(q1.show());
            var q2 = {
                name: 'qq2',
                show: function () {
                    var st = q.show;
                    return st()
                }
            };
            console.log(q2.show());


        }

        {
            var q = {
                name: 'qq',
                show: function () {
                    console.log(this);
                    setTimeout(function () {
                        console.log(this);

                    }, 1000);
                }
            };
            q.show();


            var q1 = {
                name: 'qq1',
                show: function () {
                    console.log(this);
                    setTimeout(() => {
                        console.log(this);

                    }, 1000);
                }
            };
            q1.show();
        }

        {
            var length = 10;

            function fn() {
                console.log(this.length);

            }

            var obj = {
                length: 5,
                method: function () {
                    fn();
                    fn.call(this);
                }
            };

            obj.method();


        }

        //作用域
        {
            var a = 10;

            function fn() {
                var b = 20;

                function bar() {
                    console.log(a + b);

                }
                return bar;
            }
            var x = fn(),
                b = 200;
            x();

            var x = 10;


        }

        {
            var x = 10;

            function fn() {
                console.log(x);

            }

            function show(f) {
                var x = 20;
                (
                    function () {
                        f();
                    }
                )();
            }
            show(fn);
        }
    </script>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>事件代理</title>
    <style>

    </style>
</head>

<body>
    <button id="btn">add</button>
    <ul id="uli">
        <li>item 1</li>
        <li>item 2</li>
        <li>item 3</li>
    </ul>

    <script>
        var oul = document.getElementById('uli');
        var arr = oul.getElementsByTagName('li');
        var oBtn=document.getElementById('btn');
        
        /*
        for (var i = 0; i < arr.length; i++) {//因为for循环在页面加载过程中就处理完了，比点击事件跑得快
            arr[i].onclick = function () {
                console.log(i);//3
                console.log(arr[i]); //undefined
                console.log(this.innerHTML);  
                // console.log(arr[i].innerHTML);

            }
        }
        */

     //这种方式好处有两个：
     //1.不用为上万个子元素绑定事件
     //2.对后插入的子元素也有用
        oul.onclick=function(e){
            e=e||window.event;
            //currentTarget===this
            //target 事件源
            var target=e.srcElement||e.target;
            console.log(target.innerHTML);
            console.log(e.currentTarget);
            
            
        };

        oBtn.onclick=function(){
            var oLi=document.createElement('li');
            oLi.innerHTML=Math.random();
            oul.appendChild(oLi);
        };






//e.target
//e.currentTarget

    </script>

</body>

</html>
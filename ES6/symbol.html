<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>symbol</title>
    <script>

        /*
        symbol是一种类似于字符串的数据类型。
        Symbol函数可以接受一个字符串作为参数，表示对 Symbol 实例的描述
        如果 Symbol 的参数是一个对象，就会调用该对象的toString方法，将其转为字符串，然后才生成一个 Symbol 值。
        Symbol 值可以显式转为字符串，Symbol 值也可以转为布尔值，但是不能转为数值

        Symbol 作为属性名，遍历对象的时候，该属性不会出现在for...in、for...of循环中，
        也不会被Object.keys()、Object.getOwnPropertyNames()、JSON.stringify()返回。

        Symbol.for()与Symbol()这两种写法，都会生成新的 Symbol。它们的区别是，前者会被登记在全局环境中供搜索，
        后者不会。Symbol.for()不会每次调用就返回一个新的 Symbol 类型的值，而是会先检查给定的key是否已经存在，
        如果不存在才会新建一个值。比如，如果你调用Symbol.for("cat")30 次，每次都会返回同一个 Symbol 值，
        但是调用Symbol("cat")30 次，会返回 30 个不同的 Symbol 值。
        */
        let a1 = Symbol.for('abc');
        let obj = {
            [a1]: '123',
            'abc': 345,
            'c': 456
        };
        console.log(obj); //Object { abc: 345, c: 456, Symbol(abc): "123" }

        //for of  for in 拿不到symbol的属性
        for (let [key, value] of Object.entries(obj)) {
            console.log('let of', key, value);

        }
        //只能拿到symbol的属性
        Object.getOwnPropertySymbols(obj).forEach(function (item) {
            console.log(obj[item]);

        })

        //全拿到
        Reflect.ownKeys(obj).forEach(function (item) {
            console.log('ownkeys', item, obj[item]);

        })


        {
            let a = {},
                b = '0',
                c = 0;
            a[b] = '今天';
            a[c] = '明天';
            console.log(a[b]); //'明天'

        } {
            let a = {},
                b = Symbol('1'),
                c = Symbol('1');
            a[b] = '今天';
            a[c] = '明天';
            console.log(a[b]); //'今天'  
        }
        {
            let a = {},
                b ={n:'1'},
                c = {m:'2'};//'[object:object]'
            a[b] = '今天';
            a[c] = '明天';
            console.log(a[b]); //'明天'   
        }

        
        /*
        Symbol值不能与其他类型的值进行运算，会报错。
        但是，Symbol 值可以显式转为字符串。
        let sym = Symbol('My symbol');
        String(sym) // 'Symbol(My symbol)'
        sym.toString() // 'Symbol(My symbol)'

        另外，Symbol 值也可以转为布尔值，但是不能转为数值。
        let sym = Symbol();
        Boolean(sym) // true
        !sym  // false
        */

        //Symbol作为对象属性名
        let ms=Symbol();
        let a={};
        a.ms="hello"
        console.log(a.ms);//"hello"
        console.log(a[ms]);//undefined
        console.log(a["ms"]);//"hello"
        
        

        let b={};
        b[ms]="hi"
        console.log(b.ms);//undefined
        console.log(b[ms]);//"hi"

        let c={};
        Object.defineProperty(c,ms,{value:'byebye'});
        console.log(c.ms);//undefined
        console.log(c[ms]);//"byebye"

        
        
        
        
    </script>
</head>

<body>

</body>

</html>
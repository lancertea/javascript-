<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>类</title>
    <script>
        //ES5
        // let Animal = function (type) {
        //   this.type = type
        // }
        //
        // Animal.prototype.eat = function () {
        //   console.log('i am eat food hello')
        // }
        //
        // let dog = new Animal('dog')
        // let monkey = new Animal('monkey')
        //
        // console.log(dog)
        // console.log(monkey)
        //
        // monkey.constructor.prototype.eat = function () {
        //   console.log('error')
        // }
        //
        // dog.eat()
        // monkey.eat()

        //ES6
        // class Animal {
        //   constructor (type) {
        //     this.type = type
        //   }
        //   eat () {
        //     console.log('i am eat food')
        //   }
        // }
        //
        // let dog = new Animal('dog')
        // let monkey = new Animal('monkey')
        // console.log(dog)
        // console.log(monkey)
        // dog.eat()
        // monkey.eat()
        //
        // console.log(typeof Animal)

        //get set
        class Chef {
            constructor(food) {
                this.food = food;
                this.dish = [];
            }
            //这样写，menu变成属性了,只读
            get menu() {
                return this.dish;
            }

            set menu(dish) {
                this.dish.push(dish);
            }

            cook() {
                console.log(this.food);
            }
            static tired() {
                console.log('I am tired');

            }

        }
        let zz = new Chef();
        console.log(zz.menu = 'ice'); //'ice'
        console.log(zz.menu); //Array [ "ice" ]
        console.log(zz.menu = 'fish'); //'fish'
        console.log(zz.menu); //Array [ "ice", "fish" ]

        console.log(zz.menu = 'cream');
        console.log(zz.menu);
        Chef.tired();

        //用get set定义的属性在顶级作用域，可以访问class外的变量
        let _age = 4
        class Animal {
          constructor (type) {
            this.type = type
          }
          get age () {
            return _age
          }
          set age (val) {
            if (val < 7 && val > 4) {
              _age = val
            }
          }
          eat () {
            console.log('i am eat food')
          }
        }
        let dog = new Animal('dog')
        console.log(dog.age)//4
        dog.age = 8
        console.log(dog.age)//4
        console.log(dog._age)//undefined





        // 类的继承
        class Parent {
            constructor() {
                this.name = 'parent';
                this.arr = [1, 2, 3];
            }
            pfav = 'TV';
            static num = 1;
            hi() {
                console.log(this.name);

            }

        }
        Parent.prototype.old = 40;

        class Child extends Parent {
            constructor() {
                super();
                this.type = 'child'
            }
            cfav = 'computer';
            static num = 2;
        }
        Child.prototype.young = 20;

        var c1 = new Child();
        console.log(c1); //Object { pfav: "TV", name: "parent", arr: (3) […], cfav: "computer", type: "child" }
        console.log(c1.pfav); //'TV'
        console.log(c1.cfav); //'computer'
        c1.arr.push(4);
        var c2 = new Child();
        console.log(c2); //Object { pfav: "TV", name: "parent", arr: (3) […], cfav: "computer", type: "child" }

        console.log(c1.constructor); //class Child {}
        console.log(c1 instanceof Child); //true
        console.log(c1 instanceof Parent); //true
        console.log(c1 instanceof Object); //true
        console.log(c1.hasOwnProperty('name'));
        console.log(c1.hasOwnProperty('arr'));
        console.log(c1.hasOwnProperty('pfav'));
        console.log(c1.hasOwnProperty('type'));
        console.log(c1.hasOwnProperty('cfav'));
    </script>
</head>

<body>

</body>

</html>
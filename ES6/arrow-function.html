<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>箭头函数</title>
</head>
<script>
    {
        // ES3,ES5
        var evens = [1, 2, 3, 4, 5];
        var odds = evens.map(function (v) {
            return v + 1
        });
        console.log(evens, odds);
    }; {
        // ES6
        //当函数只有一个参数的时候，小括号可以省略
        //当函数体只返回一个表达式的时候，花括号可以省略，如果是返回一个对象
        //或者函数体内有多句，花括号不能省略
        let evens = [1, 2, 3, 4, 5];
        let odds = evens.map(v => v + 1);
        console.log(evens, odds);
    } {
        // ES3,ES5
        var factory = function () {
            this.a = 'a';
            this.b = 'b';
            this.c = {
                a: 'a+',
                b: function () {
                    return this.a
                }
            }
        }

        console.log(new factory().c.b());
    };

    {
        var factory = function () {
            this.a = 'a';
            this.b = 'b';
            this.c = {
                a: 'a+',
                b: () => {
                    return this.a
                }
            }
        }
        console.log(new factory().c.b());
    }

    //this的指向
    let test = {
        name: 'test',
        say: () => {
            console.log(this.name, this)//window
        }
    }
    //ES5中，谁调用该函数，this就指向谁
    //ES6中，在定义函数时，this指向谁就是谁
    test.say()
</script>

<body>

</body>

</html>